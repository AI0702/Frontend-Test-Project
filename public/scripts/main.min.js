let type="WebGL";if(!PIXI.utils.isWebGLSupported()){type="canvas"}window.onload=()=>{var h=false;const n=new PIXI.Application({view:document.getElementById("appcanvas"),antialias:true,transparent:true,resolution:1});n.renderer.autoResize=true;n.renderer.plugins.interaction.autoPreventDefault=false;n.renderer.view.style.touchAction="auto";var i;if(window.innerWidth<=window.innerHeight){i=true;n.renderer.resize(window.innerWidth,window.innerHeight+(window.innerWidth*100/window.innerHeight/100-.5)*window.innerWidth)}else{i=false;n.renderer.resize(window.innerWidth,window.innerHeight-(window.innerHeight*100/window.innerWidth/100-.65)*window.innerWidth)}var t=new PIXI.Container;t.width=n.renderer.width;t.height=n.renderer.height;n.stage.addChild(t);var e,r,d,l,s,p,w,o,g,f,u,c,x,I,y,b;var a,m,v,P,C,S,X,k,O,j,M,N=false,D=4,T=0,E=0,W=0,z=false;const B=n.loader.add("back","../images/showdown/header.png").add("fore","../images/showdown/showdown-off.png").add("bolo","../images/showdown/bolt-off@2x.png").add("bol","../images/showdown/bolt@2x.png").add("veg","../images/showdown/vegas@2x.png").add("slo","../images/showdown/slots@2x.png").add("ls","../images/showdown/s@2x.png").add("lh","../images/showdown/h@2x.png").add("lo1","../images/showdown/o-1@2x.png").add("lw1","../images/showdown/w-1@2x.png").add("ld","../images/showdown/d@2x.png").add("lo2","../images/showdown/o-2@2x.png").add("lw2","../images/showdown/w-2@2x.png").add("ln","../images/showdown/n@2x.png").add("mdj","../images/showdown/must_drop.png").add("back2","../images/wheel/back.png").add("whl","../images/wheel/wheelmarked.png").add("whlf0","../images/wheel/wheelframe.png").add("whlf1","../images/wheel/wheelframe1.png").add("whlf2","../images/wheel/wheelframe2.png").add("whlf3","../images/wheel/wheelframe3.png").add("mrk","../images/wheel/marker.png").add("btn","../images/wheel/btn-spin.png").add("btn2","../images/wheel/btn2-spin.png").add("ban1","../images/wheel/ban1.png").add("pback","../images/wheel/pback.png").add("prz","../images/wheel/p.png").add("p1","../images/wheel/p1.png").add("p2","../images/wheel/p2.png").add("p3","../images/wheel/p3.png").add("p4","../images/wheel/p4.png").load(U);B.onLoad.add(()=>{F()});B.onComplete.add(()=>{J()});var H=document.getElementsByClassName("progress-bar")[0];var L=document.getElementsByClassName("preloader-back")[0];var A=document.getElementsByClassName("preloader")[0];var G=document.getElementsByClassName("preloader2")[0];var R=0,Y=0,_=false,q=false;function F(){R+=Math.floor(Math.random()*3)+1;if(R>=100){R+=Math.floor(Math.random()*80)+50}H.style.width=R+"%";return}function J(){R=100;H.style.width=R+"%";Y=2;var e=setInterval(a,50);function a(){if(Y>0){A.style.opacity=Y;Y-=.05}else{clearInterval(e);A.style.display="none";G.style.display="block";K()}}return}function K(){Y=0;var e=setInterval(a,50);function a(){if(Y<1){G.style.opacity=Y;Y+=.05}else{clearInterval(e);Q()}}return}function Q(){Y=2;var e=setInterval(a,50);function a(){if(Y>0){G.style.opacity=Y;Y-=.05}else{clearInterval(e);G.style.display="none";L.style.display="none";n.view.style.opacity="1";document.getElementById("container-main").style.backgroundImage="linear-gradient(#140D3D, #140D3D, #140D3D, #0E1D56, #0E1D56)";document.body.style.overflowY="scroll";h=true;V();Z()}}return}function U(){var e=new PIXI.Container;if(i==true){e.width=n.renderer.width;e.height=n.renderer.height*.45}else{e.width=n.renderer.width;e.height=n.renderer.height*.33}t.addChild(e);r=new PIXI.Sprite(B.resources.back.texture);if(i==true){r.width=n.renderer.width;r.height=n.renderer.height*.45}else{r.width=n.renderer.width;r.height=n.renderer.height*.33}e.addChild(r);d=new PIXI.Sprite(B.resources.fore.texture);if(i==true){d.width=n.renderer.width;d.height=d.width/3;d.x=n.renderer.width*.005;d.y=n.renderer.height*.05}else{d.width=n.renderer.width*.6;d.height=d.width/3;d.x=n.renderer.width*.21;d.y=n.renderer.height*.05}e.addChild(d);l=new PIXI.Sprite(B.resources.bolo.texture);l.width=d.width;l.height=d.height;l.x=d.x;l.y=d.y;l.alpha=0;e.addChild(l);s=new PIXI.Sprite(B.resources.bol.texture);s.width=d.width;s.height=d.height;s.x=d.x;s.y=d.y;s.alpha=0;e.addChild(s);p=new PIXI.Sprite(B.resources.veg.texture);p.width=d.width;p.height=d.height;p.x=d.x;p.y=d.y;p.alpha=0;e.addChild(p);w=new PIXI.Sprite(B.resources.slo.texture);w.width=d.width;w.height=d.height;w.x=d.x;w.y=d.y;w.alpha=0;e.addChild(w);o=new PIXI.Sprite(B.resources.ls.texture);o.width=d.width;o.height=d.height;o.x=d.x;o.y=d.y;o.alpha=0;e.addChild(o);g=new PIXI.Sprite(B.resources.lh.texture);g.width=d.width;g.height=d.height;g.x=d.x;g.y=d.y;g.alpha=0;e.addChild(g);f=new PIXI.Sprite(B.resources.lo1.texture);f.width=d.width;f.height=d.height;f.x=d.x;f.y=d.y;f.alpha=0;e.addChild(f);u=new PIXI.Sprite(B.resources.lw1.texture);u.width=d.width;u.height=d.height;u.x=d.x;u.y=d.y;u.alpha=0;e.addChild(u);c=new PIXI.Sprite(B.resources.ld.texture);c.width=d.width;c.height=d.height;c.x=d.x;c.y=d.y;c.alpha=0;e.addChild(c);x=new PIXI.Sprite(B.resources.lo2.texture);x.width=d.width;x.height=d.height;x.x=d.x;x.y=d.y;x.alpha=0;e.addChild(x);I=new PIXI.Sprite(B.resources.lw2.texture);I.width=d.width;I.height=d.height;I.x=d.x;I.y=d.y;I.alpha=0;e.addChild(I);y=new PIXI.Sprite(B.resources.ln.texture);y.width=d.width;y.height=d.height;y.x=d.x;y.y=d.y;y.alpha=0;e.addChild(y);b=new PIXI.Sprite(B.resources.mdj.texture);b.width=d.width;b.height=d.height;b.x=d.x;b.y=d.y;b.alpha=0;e.addChild(b);var a=new PIXI.Container;if(i==true){a.width=n.renderer.width;a.height=n.renderer.height*.5;a.y=n.renderer.height*.25}else{a.width=n.renderer.width;a.height=n.renderer.height*.6;a.y=n.renderer.height*.2}t.addChild(a);back2=new PIXI.Sprite(B.resources.back2.texture);if(i==true){back2.width=n.renderer.width;back2.height=n.renderer.height*.5;back2.y=n.renderer.height*.25}else{back2.width=n.renderer.width;back2.height=n.renderer.height*.6;back2.y=n.renderer.height*.2}back2.alpha=0;a.addChild(back2);m=new PIXI.Sprite(B.resources.whl.texture);if(i==true){m.width=n.renderer.width/1.5;m.height=m.width;m.x=n.renderer.width*.5;m.y=n.renderer.height*.3}else{m.width=n.renderer.width/3.5;m.height=m.width;m.x=n.renderer.width*.7;m.y=n.renderer.height*.5}m.anchor.set(.5);m.angle=Math.floor(Math.random()*360);m.alpha=0;a.addChild(m);v=new PIXI.Sprite(B.resources.whlf0.texture);v.width=m.width+m.width*.075;v.height=m.height+m.height*.075;v.x=m.x;v.y=m.y;v.anchor.set(.5);v.alpha=0;a.addChild(v);P=new PIXI.Sprite(B.resources.whlf1.texture);P.width=m.width+m.width*.075;P.height=m.height+m.height*.075;P.x=m.x;P.y=m.y;P.anchor.set(.5);P.alpha=0;a.addChild(P);C=new PIXI.Sprite(B.resources.whlf2.texture);C.width=m.width+m.width*.075;C.height=m.height+m.height*.075;C.x=m.x;C.y=m.y;C.anchor.set(.5);C.alpha=0;a.addChild(C);S=new PIXI.Sprite(B.resources.whlf3.texture);S.width=m.width+m.width*.075;S.height=m.height+m.height*.075;S.x=m.x;S.y=m.y;S.anchor.set(.5);S.alpha=0;a.addChild(S);X=new PIXI.Sprite(B.resources.mrk.texture);if(i==true){X.width=m.width/5.5;X.height=X.width*2;X.x=m.x;X.y=m.y-m.height/1.9}else{X.width=m.width/5.5;X.height=X.width*2;X.x=m.x+m.width/1.9;X.y=m.y;X.angle=90}X.anchor.set(.5);X.alpha=0;a.addChild(X);ban1=new PIXI.Sprite(B.resources.ban1.texture);if(i==true){ban1.visible=false}else{ban1.width=m.width;ban1.height=ban1.width/1.5;ban1.x=m.x+m.width/-.8;ban1.y=m.y/1.3}ban1.anchor.set(.5);ban1.alpha=0;a.addChild(ban1);k=new PIXI.Sprite(B.resources.btn.texture);if(i==true){k.width=m.width/1.3;k.height=k.width*.3;k.x=m.x;k.y=m.y+m.height/1.25}else{k.width=m.width/1.3;k.height=k.width*.3;k.x=m.x+m.width/-.8;k.y=m.y/.8}k.anchor.set(.5);k.interactive=true;k.buttonMode=true;k.alpha=0;a.addChild(k);k.on("pointerdown",ee);O=new PIXI.Sprite(B.resources.btn2.texture);O.width=k.width;O.height=k.height;O.x=k.x;O.y=k.y;O.anchor.set(.5);O.alpha=0;a.addChild(O);j=new PIXI.Sprite(B.resources.pback.texture);j.width=n.renderer.width;j.height=n.renderer.height*2;j.y=n.renderer.height*-.25;j.visible=false;a.addChild(j);j.on("pointerdown",he);M=new PIXI.Sprite(B.resources.prz.texture);if(i==true){M.width=n.renderer.width/1.5;M.height=M.width;M.x=n.renderer.width/2;M.y=n.renderer.height/4.5}else{M.width=n.renderer.width/3.5;M.height=M.width;M.x=n.renderer.width/2;M.y=n.renderer.height/3}M.anchor.set(.5,.5);M.interactive=true;M.buttonMode=true;M.visible=false;a.addChild(M);M.on("pointerdown",he);return}function V(){var a=0;var h=0;var i=false;n.ticker.add(e=>{a+=e;if(a>=30){l.alpha=1;if(a>=110){s.alpha=1;l.alpha=0;if(a>=115){s.alpha=0;l.alpha=1;if(a>=120){s.alpha=1;l.alpha=0;if(a>=125){s.alpha=0;l.alpha=1;if(a>=130){s.alpha=1;l.alpha=0;if(a>=140){s.alpha=0;l.alpha=1;if(a>=145){s.alpha=1;l.alpha=0;if(a>=150){s.alpha=0;l.alpha=1;if(a>=155){s.alpha=1;l.alpha=0;if(a>=160){s.alpha=0;l.alpha=1;if(a>=165){s.alpha=1;l.alpha=0;if(a>=175){s.alpha=0;l.alpha=1;if(a>=180){s.alpha=1;l.alpha=0;if(a>=185){s.alpha=0;l.alpha=1;if(a>=190){s.alpha=1;l.alpha=0;if(a>=195){s.alpha=0;l.alpha=1;if(a>=200){s.alpha=1;l.alpha=0;if(a>=210){s.alpha=0;l.alpha=1;if(a>=215){s.alpha=1;l.alpha=0;if(a>=220){s.alpha=0;l.alpha=1;if(a>=225){s.alpha=1;l.alpha=0;if(a>=230){s.alpha=0;l.alpha=1;if(a>=235){s.alpha=1;l.alpha=1;if(a>=805){a=0}}}}}}}}}}}}}}}}}}}}}}}}}if(i==false){h+=e;if(h>=60){p.alpha=1;w.alpha=1;if(h>=90){p.alpha=0;w.alpha=0;if(h>=95){p.alpha=1;w.alpha=1;o.alpha=1;if(h>=100){p.alpha=0;w.alpha=0;if(h>=105){p.alpha=1;w.alpha=1;g.alpha=1;if(h>=115){f.alpha=1;if(h>=125){u.alpha=1;if(h>=135){c.alpha=1;if(h>=145){x.alpha=1;if(h>=155){I.alpha=1;if(h>=165){y.alpha=1;if(h>=190){b.alpha=1;if(h>=210){b.alpha=0;if(h>=215){b.alpha=1;if(h>=220){b.alpha=0;if(h>=225){b.alpha=1;h=0;i=true}}}}}}}}}}}}}}}}}})}function Z(){var a=0;var h=0;var i=false;var t=0;var r=0;var d=0;var l=false;animfinished3=false;n.ticker.add(e=>{if(i==false){a+=e;if(a>=90){m.alpha=.2;X.alpha=.2;k.alpha=.2;v.alpha=.2;if(a>=95){m.alpha=.4;X.alpha=.4;k.alpha=.4;v.alpha=.4;if(a>=100){m.alpha=.6;X.alpha=.6;k.alpha=.6;v.alpha=.6;if(a>=105){m.alpha=.8;X.alpha=.8;k.alpha=.8;v.alpha=.8;if(a>=110){ban1.alpha=1;m.alpha=1;X.alpha=1;k.alpha=1;v.alpha=1;a=0;i=true}}}}}}if(i==true&&N==false){a+=e;if(a>=60){P.alpha=0;C.alpha=1;if(a>=120){P.alpha=1;C.alpha=0;a=0}}}if(i==true){h+=e;if(h>=30){ban1.alpha=0;if(h>=60){ban1.alpha=1;h=0}}}if(N==true){t+=e;m.angle+=d;if(m.angle>=360){m.angle-=360}else if(m.angle<0){m.angle+=360}if(t>=0){d=-1;P.alpha=0;C.alpha=0;if(t>=45){d=30;S.alpha=1;if(t>=60){d=28;S.alpha=0;if(t>=75){d=26;S.alpha=1;if(t>=90){d=24;S.alpha=0;if(t>=105){d=22;S.alpha=1;if(t>=120){d=20;S.alpha=0;if(t>=135){d=18;S.alpha=1;if(t>=150){d=16;S.alpha=0;if(t>=175){d=14;S.alpha=1;if(t>=190){d=12;S.alpha=0;if(t>=205){d=10;S.alpha=1;if(t>=220){d=8;S.alpha=0;if(t>=235){d=6;S.alpha=1;if(t>=250){d=4;S.alpha=0;if(m.angle>=T&&m.angle<=E&&l==false){d=2;S.alpha=1;if(Math.round(m.angle)==W||Math.round(m.angle)==W+1||Math.round(m.angle)==W-1){r=t;l=true}}if(l==true){if(t-r>=0){d=2.5;if(t-r>=3){d=-2.5;if(t-r>=6){d=-2.5;if(t-r>=9){d=2.5;if(t-r>=12){m.angle=W;if(t-r>=15){d=0;t=0;r=0;l=false;k.interactive=true;k.buttonMode=true;O.alpha=0;N=false;S.alpha=false;ae()}}}}}}}}}}}}}}}}}}}}}}}})}var $=false;function ee(){if(!N&&!z){if(jsonObject.POSITION<1||jsonObject.POSITION>D){alert("Dev note: \nError: Invalid position in test.json file. Position must be between 1 and "+D+".");return}if($==false){alert("Dev note: \nThe wheel will always stop at position "+jsonObject.POSITION+". This can be changed in the test.json file");$=true}k.interactive=false;k.buttonMode=false;O.alpha=1;rigvalue=jsonObject.POSITION*D+(jsonObject.POSITION-1)*(D-1);if(rigvalue>4){rigvalue%=4}else if(rigvalue<0){rigvalue+=4}if(i==true){T=(rigvalue-1)*(360/D)+5;E=rigvalue*(360/D)-5}else{T=((rigvalue-1)*(360/D)+5+90)%360;E=(rigvalue*(360/D)-5+90)%360}W=Math.floor(Math.random()*(E-T))+T;N=true}return}function ae(){if(jsonObject.POSITION==1){M.texture=B.resources.p1.texture}else if(jsonObject.POSITION==2){M.texture=B.resources.p2.texture}else if(jsonObject.POSITION==3){M.texture=B.resources.p3.texture}else if(jsonObject.POSITION==4){M.texture=B.resources.p4.texture}z=true;j.visible=true;M.visible=true}function he(){j.visible=false;M.visible=false;M.texture=B.resources.prz.texture;z=false}document.addEventListener("keydown",function(e){if(h==true){switch(e.which){case 13:if(!N&&!z){ee()}if(!N&&z){he()}break;case 32:if(!N&&!z){ee()}if(!N&&z){he()}break}}return})};